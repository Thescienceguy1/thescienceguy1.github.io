<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Messier Gallery — Isaac Ceballos</title>
  <style>
    :root{--ink:#e2e8f0;--sub:#94a3b8;--bg1:#0f172a;--bg2:#000000;--card:#0b1220;--border:#0ea5e933}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:monospace;color:var(--ink);background:linear-gradient(180deg,var(--bg1) 0%,var(--bg2) 100%);min-height:100vh}
    header{text-align:center;padding:28px 20px 10px}
    header h1{font-size:1.8rem;letter-spacing:.3px}
    header .subtitle{color:var(--sub);margin-top:6px}
    header .tagline{color:var(--sub);margin-top:4px;font-size:.95rem}
    main{max-width:1200px;margin:18px auto 40px;padding:0 20px}
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    @media(max-width:1100px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media(max-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:480px){.grid{grid-template-columns:1fr}}
    figure.card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 6px 16px rgba(0,0,0,.35);transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}
    figure.card:hover{transform:translateY(-2px);box-shadow:0 0 18px 6px #38bdf833;border-color:#38bdf8}
    .thumb{width:100%;aspect-ratio:1/1;background:radial-gradient(circle at 30% 20%,rgba(56,189,248,.12),transparent 40%),linear-gradient(145deg,#0b1220,#111827);border-bottom:1px solid #0ea5e922;display:grid;place-items:center}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    figcaption{padding:10px 12px;display:flex;flex-direction:column;gap:4px}
    .obj{font-weight:600}
    .note{font-size:.85rem;color:var(--sub)}
    .empty{margin:24px 0;padding:16px 14px;border:1px dashed #334155;background:#0b1220aa;border-radius:12px;color:var(--sub)}
    footer{text-align:center;padding:22px;color:var(--sub)}
  </style>
</head>
<body>
  <header>
    <h1>Isaac Ceballos</h1>
    <div class="subtitle">Messier Gallery</div>
    <div class="tagline">Where I add my pictures</div>
  </header>

  <main>
    <div id="empty" class="empty">Loading your uploads…</div>
    <section id="grid" class="grid" aria-live="polite" aria-busy="true"></section>
  </main>

  <footer>&copy; 2025 Isaac Ceballos.</footer>

  <script>
    // Config
    const BASE_DIR = 'images/messier/';
    const EXT = 'png';       // change if your files are jpg
    const ZERO_PAD = 0;      // 0 = M1.png, 2 = M01.png, 3 = M001.png
    const START = 1, END = 110;

    // Messier object names (sample, can be expanded)
    const messierNames = {
      1: "Crab Nebula",
      2: "Globular Cluster (Aquarius)",
      3: "Globular Cluster (Canes Venatici)",
      4: "Cat's Paw Cluster",
      5: "Globular Cluster (Serpens)",
      6: "Butterfly Cluster",
      7: "Ptolemy Cluster",
      8: "Lagoon Nebula",
      9: "Globular Cluster (Ophiuchus)",
      10: "Globular Cluster (Ophiuchus)",
      11: "Wild Duck Cluster",
      12: "Globular Cluster (Ophiuchus)",
      13: "Hercules Globular Cluster",
      16: "Eagle Nebula",
      17: "Omega Nebula",
      20: "Trifid Nebula",
      27: "Dumbbell Nebula",
      31: "Andromeda Galaxy",
      32: "Companion of Andromeda",
      33: "Triangulum Galaxy",
      42: "Orion Nebula",
      45: "Pleiades",
      51: "Whirlpool Galaxy",
      57: "Ring Nebula",
      63: "Sunflower Galaxy",
      64: "Black Eye Galaxy",
      65: "Leo Triplet Galaxy",
      66: "Leo Triplet Galaxy",
      81: "Bode's Galaxy",
      82: "Cigar Galaxy",
      87: "Virgo A (giant elliptical)",
      92: "Globular Cluster (Hercules)",
      101: "Pinwheel Galaxy",
      104: "Sombrero Galaxy",
      110: "Companion of Andromeda"
    };

    function buildName(n) {
      const num = ZERO_PAD > 0 ? String(n).padStart(ZERO_PAD,'0') : String(n);
      return `M${num}.${EXT}`;
    }

    function imgExists(url) {
      return new Promise(resolve => {
        const test = new Image();
        test.onload = () => resolve(true);
        test.onerror = () => resolve(false);
        test.src = url + '?cb=' + Date.now();
      });
    }

    function makeCard(n, src) {
      const fig = document.createElement('figure'); fig.className='card';
      const thumb=document.createElement('div'); thumb.className='thumb';
      const img=document.createElement('img'); img.alt=`M${n}`; img.loading='lazy'; img.src=src;
      thumb.appendChild(img);
      const cap=document.createElement('figcaption');
      const name=document.createElement('span'); name.className='obj'; name.textContent=`M${n}`;
      const desc=document.createElement('span'); desc.className='note'; desc.textContent=messierNames[n]||"";
      cap.appendChild(name); if(desc.textContent) cap.appendChild(desc);
      fig.appendChild(thumb); fig.appendChild(cap);
      return fig;
    }

    (async()=>{
      const grid=document.getElementById('grid');
      const empty=document.getElementById('empty');
      let count=0;
      for(let n=START;n<=END;n++){
        const file=buildName(n);
        const url=BASE_DIR+file;
        if(await imgExists(url)){
          grid.appendChild(makeCard(n,url));
          count++;
        }
      }
      grid.setAttribute('aria-busy','false');
      if(count) empty.style.display='none';
      else empty.textContent='No images found under '+BASE_DIR;
    })();
  </script>
</body>
</html>
